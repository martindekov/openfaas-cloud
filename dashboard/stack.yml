provider:
  name: faas
  gateway: https://md-gw.team-serverless.xyz

# If using of-router then retain the system- prefix, if not using a wildcard-DNS
# please remove the prefix of `system-`

functions:
  system-dashboard:
    lang: node8-express
    handler: ./of-cloud-dashboard
<<<<<<< Updated upstream
    image: functions/of-cloud-dashboard:0.1.5
    environment:
      write_debug: true
      # gateway_url: http://gateway:8080/ # when using Swarm
      gateway_url: http://gateway.openfaas:8080/
      # base_href: `/function/system-dashboard/` # if not using router
=======
    image: martindekov/of-cloud-dashboard:0.1.1
    environment:
      write_debug: true
      gateway_url: http://gateway:8080/
>>>>>>> Stashed changes
      base_href: '/dashboard/'
      # public_url: http://laptop-ip:8080/ # if deploying locally
      public_url: https://system.o6s.io
      # Comment out if not using public pretty-URL
      #pretty_url: "http://user.md.team-serverless.xyz:8082/function"
      #query_pretty_url: 'true'

# Functions for the legacy dashboard
  system-overview:
    lang: go
    handler: ./overview
    image: martindekpv/overview:0.4.4
    environment:
      content_type: "text/html"
      combine_output: "false"
      public_url: "https://md-gw.team-serverless.xyz"
 # Comment out if not using public pretty-URL
      #pretty_url: "http://user.md.team-serverless.xyz:8082/function"
      #query_pretty_url: "true"

  list-functions:
    skip_build: true
<<<<<<< Updated upstream
    image: functions/list-functions:0.4.6
=======
    image: martindekov/list-functions:0.4.4
>>>>>>> Stashed changes
    fprocess: ./handler
    environment:
      gateway_url: http://gateway:8080/
      secret_mount_path: /var/openfaas/secrets
      basic_auth: true
      write_debug: true
    secrets:
      - basic-auth-user
      - basic-auth-password

  system-pipeline:
    lang: go
    handler: ./pipeline
    image: martindekov/pipeline:0.1.0
    environment:
      content_type: "text/html"
      combine_output: "false"
      gateway_url: http://gateway:8080/

# For Swarm use URL below which does not include .openfaas suffix:
#    gateway_url: http://gateway:8080/
